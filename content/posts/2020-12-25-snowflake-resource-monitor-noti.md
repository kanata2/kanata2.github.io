---
title: "Snowflake のリソースモニター通知を Slack で受け取る"
date: 2020-12-25T02:27:52+09:00
tags: ["snowflake"]
---

Snowflake にはコスト管理や予期しない使用状況回避のためにリソースモニターという仕組みがあるが、  
現状アカウント管理者に Web インターフェイスまたはメールを通してのみ通知される点がちょっと使いづらい。  
というわけで、この通知を Slack に流して誰でも確認できるようにしているよという tips メモを残しておく。  
  

Slack には[チャンネルにメールを流す仕組み](https://slack.com/help/articles/206819278-Send-emails-to-Slack)があるので、これを使う。  
手順に従って取得したメールアドレスを ACCOUNTADMIN ロールを持つユーザのメールアドレスとして設定し、ウェブ上から通知を有効化・電子メール受け取りに変更するのみ。

```sql
alter user <admin_user> set email = 'x-hoge@xxx.org.slack.com';
```

これだけ。  
通知の有効化も SQL でやりたいなとか非管理者も通知を受け取りたいな、メールと Web 以外でも通知を受け取りたいなという気持ちではあるが、一旦はこれでなんとかなるので今後のアップデートに期待したい。
